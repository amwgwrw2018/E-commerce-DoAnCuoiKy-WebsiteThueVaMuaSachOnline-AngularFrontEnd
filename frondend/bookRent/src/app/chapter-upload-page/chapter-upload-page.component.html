
<div class="chapterUploadMainTitleDiv">
	<p>{{bookInfo.bookName}}</p>
</div>
<div class="chapterUploadMainDiv">
	<div class="chapterUploadBookInfo">
		<div class="chapterUploadBookImage">
			<img src="assets/images/{{bookImage}}">
			<div class="form-group">
					<label>Change book image</label>
					<input type="file" name="" class="form-control" style="width: 200px;" (change)="fileChange($event)">
				</div>
		</div>
		<div class="chapterUploadBookDetail">
<div class="BookInfoBar">
				<p class="BookInfoDetailTitle">Book information</p>
			<!-- Button to Open the Modal -->
<button type="button" class="btn btn-primary BookInfoBarChangeInfoButton" data-toggle="modal" data-target="#changeBookInfo" >
  Change information
</button>
</div>
<div class="BookInfoDetailMainInfo" *ngIf="bookInfo">
	<p><b>Book name</b> : {{bookInfo.bookName}}</p>

	<p><b>Book type</b> : {{bookInfo.bookType.bookType}}</p>
	<p><b>Book language</b> : {{bookInfo.languageId.language}}</p>
	<p><b>Book price</b> : {{bookInfo.price}}</p>
	<p><b>Book release date</b> : {{bookInfo.releaseDate}}</p>
</div>

<!-- The Modal -->
<div class="modal" id="changeBookInfo">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Change book information</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        			<form>
				<div class="form-group">
					<label>Book name</label>
					<input type="text" name="bookname" class="form-control" [placeholder]="bookInfo.bookName" [(ngModel)]="changeBookInfo_BookName">
					{{changeBookInfo_BookName}}
				</div>
				<div class="form-group">
					<label>Book price</label>
					<input type="number" name="bookprice" class="form-control" [placeholder]="bookInfo.price" [(ngModel)]="changeBookInfo_Price">
					{{changeBookInfo_Price}}
				</div>
<div class="form-group">
	<label>Book type</label>
						<select (change)="getSelectedBookType($event)" name="booktype">
						<option *ngFor="let booktype of bookTypeList" value="{{booktype.bookTypeId}}">{{booktype.bookType}}</option>
					</select>
				</div>
				
				<div class="form-group">
					<label>Language</label>
					<select   (change)="getSelectedLanguage($event)" name="language">
						<option *ngFor="let lang of languageList" value="{{lang.languageId}}">{{lang.language}}</option>
						
					</select>
				
				</div>
				
				
<div class="form-group">
				
					<input type="submit" name="" class="form-control" value="Save" data-dismiss="modal" (click)="changeBookInfoSave()">
				</div>

			</form>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

		</div>
		<div style="clear: both;"></div>
	</div>

	<div class="chapterUploadHistory">


<div class="modal" id="uploadChapter">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Change book information</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        			<form>
			
				<div class="form-group">
					<label>Chapter number</label>
					<input type="number" value="" name="chapterNumber" class="form-control" [(ngModel)]="newChapterNumber" (keyup)="checkChapterNumberExist()">
				
					
				</div>
	<div class="form-group">
					<label>File</label>
					<input type="file" name="bookname" class="form-control" (change)="addNewChapter($event)">
					
				</div>
				
				
<div class="form-group">
				
					<input type="submit" name="" style="background-color: blue;" class="btn form-control" value="Save" data-dismiss="modal" (click)="saveNewChapter()" [attr.disabled]="ChapterAlreadyExist">
				</div>

			</form>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<div class="TableHistoryMainDiv">
	<div class="TableHistoryChapterTitle">
	
			<button type="button" class="btn btn-primary " data-toggle="modal" data-target="#uploadChapter" >
  Upload new chapter
</button>

</div>
	<div class="TableHistoryChapter">

		<table class="table table-bordered" id="chapterUploadHistoryTable" data-page-length='5'>
			<thead>
				<tr>
			
				<th>Chapter number</th>
				<th>Upload date</th>
		
				<th>Delete Chapter</th>
			</tr>
			</thead>
			<tbody>
				<tr *ngFor="let record of currentBookChapterUploadHistory">
				
					<td>{{record.numberOfChapter}}</td>
					<td>{{record.uploadDate}}</td>
				
					<td><button type="button" class="btn deleteChapterButton" data-toggle="modal" [attr.data-target]="'#uploadChapter'+record.bookId.id+record.numberOfChapter" 

						>
  Delete chapter {{record.numberOfChapter}} 
</button>
<div class="modal" id="uploadChapter{{record.bookId.id}}{{record.numberOfChapter}}">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
<div style="text-align: center;">
	  <p> Delete book {{bookInfo.bookName}} chapter {{record.numberOfChapter}} ?</p>
   <button class="btn" style="background-color: red;" (click)="deleteChapter(record.chapterID,record.bookId.id,record.numberOfChapter)" data-dismiss="modal">Delete</button>
</div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

					</td>
				</tr>
		
			</tbody>
		</table>
</div>
</div>
	</div>

</div>

